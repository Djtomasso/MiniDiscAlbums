<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>All Time Special Songs Three</title>
<style>
:root{--bg:#0a0a0a;--surface:#121212;--surface2:#161616;--text:#f6f6f6;--muted:#bdbdbd;--border:#2a2a2a}
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
.wrap{max-width:860px;margin:auto;padding:16px;display:grid;gap:16px}
.topnav{display:flex;gap:10px;align-items:center;padding:10px;background:#0e0e0e;border:1px solid var(--border);border-radius:10px;position:sticky;top:0;z-index:5}
.search{display:flex;gap:10px;align-items:center;width:100%}
.search input[type=search]{flex:1;background:#0f0f0f;border:1px solid var(--border);color:var(--text);padding:10px;border-radius:10px}
.search button{background:#161616;border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:10px}
.homebtn{display:inline-block;background:#191919;border:1px solid var(--border);padding:8px 12px;border-radius:8px;text-decoration:none;color:var(--text)}
.homebtn:hover{background:#222}
header.hero{border:1px solid var(--border);border-radius:14px;overflow:hidden;background:#101010}
header .cover img{width:100%;display:block;background:#0f0f0f;aspect-ratio:1/1;object-fit:cover}
.titlebar{padding:12px 14px;background:var(--surface2);border-top:1px solid var(--border)}
.titlebar h1{margin:0;font-size:1.25rem}
.titlebar .sub{color:var(--muted)}
main.tracks{display:grid;gap:10px}
.item{border:1px solid var(--border);background:#0f0f0f;border-radius:12px;padding:12px;display:grid;grid-template-columns:52px 36px 1fr;gap:10px;align-items:center}
.thumb{width:52px;height:52px;border-radius:10px;object-fit:cover;border:1px solid var(--border);background:#191919;transition:transform .25s ease}
.thumb:hover{transform:scale(2.5);z-index:10;position:relative}
.idx{min-width:36px;height:36px;display:grid;place-items:center;border:1px solid var(--border);border-radius:8px;background:#161616;font-weight:700}
.meta b{display:block;font-size:1rem;line-height:1.3}
.artist{display:block;color:var(--muted);margin-top:2px}
.actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
a.btn{background:#151515;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:8px 10px;text-decoration:none;font-size:.95rem}
footer{color:var(--muted);text-align:center;padding:10px}
</style>
</head>
<body>
<div class="wrap">
  <nav class="topnav" aria-label="Hoofdmenu">
    <a class="homebtn" href="index.html">← Hoofdmenu</a>
    <div class="search">
      <input id="filter" type="search" placeholder="Zoek in titels of artiest…" />
      <button id="clearBtn" type="button">Wissen</button>
    </div>
  </nav>

  <header class="hero">
    <div class="cover"><img id="albumCover" alt="Album cover"></div>
    <div class="titlebar">
      <h1 id="title"></h1>
      <div class="sub" id="subtitle"></div>
    </div>
  </header>

  <main id="list" class="tracks" aria-live="polite"></main>
  <footer>album samengesteld door Tomasso 2025</footer>
</div>

<!-- DATA: je directe cover-URL’s -->
<script type="application/json" id="data">{
  "album_title": "All Time Special Songs Three",
  "subtitle": "",
  "cover": "image/alltimespecial3.png",
  "tracks": [
    {"artist":"The Chimes","title":"Heaven","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/18138/original.jpg"},
    {"artist":"Ace of Base","title":"Lucky Love","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/9036/original.jpg"},
    {"artist":"Champaign","title":"How ’Bout Us (Single Version)","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/6675/original.jpg"},
    {"artist":"Paul Simon","title":"Diamonds on the Soles of Her Shoes","cover":"https://upload.wikimedia.org/wikipedia/en/thumb/f/f5/Diamondssoles.jpeg/250px-Diamondssoles.jpeg"},
    {"artist":"Wendy & Lisa","title":"Strung Out","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/10700/original.jpg"},
    {"artist":"Take That","title":"These Days","cover":"https://upload.wikimedia.org/wikipedia/en/9/9f/TheseDayssinglecover.jpg"},
    {"artist":"Eighth Wonder","title":"I’m Not Scared","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/14336/original.jpg"},
    {"artist":"Justin Timberlake feat. JAY-Z","title":"Suit & Tie","cover":"https://www.top40.nl/media/cache/related/uploads/title/22886/original.jpg"},
    {"artist":"Beyoncé","title":"Love On Top","cover":"https://www.top40.nl/media/cache/related/uploads/title/10844/original.jpg"},
    {"artist":"Sia","title":"Chandelier","cover":"https://www.top40.nl/media/cache/related/uploads/title/37012/original.jpg"},
    {"artist":"Jess Glynne","title":"Hold My Hand","cover":"https://www.top40.nl/media/cache/related/uploads/title/46837/original.jpg"},
    {"artist":"Jon & Vangelis","title":"I’ll Find My Way Home","cover":"https://www.top40.nl/media/cache/related/uploads/title/27638/original.jpg"},
    {"artist":"Jon Anderson","title":"Hold On to Love","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/6585/original.jpg"},
    {"artist":"Adiemus","title":"Adiemus","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/126/original.jpg"},

    {"artist":"ABBA","title":"Slipping Through My Fingers","cover":"https://i.discogs.com/ypStgGGfqYlHt8uVS1ram7horSg3v71xR4jqXQG-Esg/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTYxODMw/MS0xNTM3NzEzNTg0/LTgxNjguanBlZw.jpeg"},
    {"artist":"Laid Back","title":"Bakerman","cover":"https://www.top40.nl/media/cache/related/uploads/title/25583/original.jpg"},
    {"artist":"Ace","title":"How Long","cover":"https://www.top40.nl/media/cache/related/uploads/title/23735/original.jpg"},
    {"artist":"Herb Alpert","title":"Keep Your Eye On Me","cover":"https://www.top40.nl/media/cache/related/uploads/title/25780/original.jpg"},
    {"artist":"Skipper Wise","title":"Standing Outside In The Rain","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/6775/original.jpg"},
    {"artist":"Scritti Politti","title":"Boom! There She Was (US Mix)","cover":"https://i.discogs.com/mCy9ih6yhG_CrJ9ER0ntCUvnoyP1RCUMrdtCF4MaWCA/rs:fit/g:sm/q:40/h:300/w:300/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIyMTMy/NjMtMTQ3OTU3NzEx/MS0zMjg1LmpwZWc.jpeg"},

    {"artist":"Efteling","title":"De Magische Klok (By The Sleepy Lagoon)","cover":"https://m.media-amazon.com/images/I/61cvQueILvL._UX420_FMwebp_QL85_.jpg"},
    {"artist":"Bob Sinclar & Camille Lefort","title":"Kiss My Eyes (Made In Jamaica)","cover":"https://i.discogs.com/oUWFth6qvMoJ9ZCSrLM9MZXMmX2frL6KSFB1DcrqXko/rs:fit/g:sm/q:40/h:150/w:150/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ2NTM4/NDEtMTU0NDk4Njc0/Ni0yOTc5LmpwZWc.jpeg"},
    {"artist":"DJ Cassidy feat. R. Kelly","title":"Make the World Go ’Round","cover":"https://i.discogs.com/NBM6LTx4XSsM2G5MVnanEWdEJgCi26hxLJHXp7aaoWM/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTU5MDQz/MzMtMTcwMjc0NjUw/NC0xNTEzLmpwZWc.jpeg"},
    {"artist":"Milli Vanilli","title":"More Than You’ll Ever Know","cover":"https://i.discogs.com/g4SkraD-F6YgZWO6fBKZBJaUSjcTZnxn88MHGuBgnSg/rs:fit/g:sm/q:90/h:587/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTEyNzQ4/MDctMTM0NjU5NTEy/MC03MTMxLmpwZWc.jpeg"},
    {"artist":"F en de broer van Roos","title":"Foto’s Van Jou En Mij (Flits)","cover":"https://images.genius.com/8fc7d86bdbf3122135ceb8f7ac436532.640x640x1.jpg"},
    {"artist":"Sparx","title":"Qué Bueno Bailas","cover":"https://i.discogs.com/0rl3swacOYUvPZMO61UOzScbjbJelDGyDXebSmq9H0o/rs:fit/g:sm/q:40/h:300/w:300/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE0NTA2/OTU3LTE1NzU5MzIz/OTQtNDQ1My5qcGVn.jpeg"},
    {"artist":"Climie Fisher","title":"Rise To The Occasion (Hip-Hop Version)","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/5704/original.jpg"},

    {"artist":"Princess Freesia","title":"Workin’ Out Fine","cover":"https://f4.bcbits.com/img/a3178498875_10.jpg"},
    {"artist":"Alexander O’Neal","title":"All True Man","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/223/original.jpg"},

    {"artist":"Shalamar","title":"Make That Move (Single Version)","cover":"https://i.discogs.com/fx0TLbHdnr9TUaxBbOvgFnen_jt1d3zKOTFmUcK7bLQ/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTExMTY0/NjEtMTQ2MDkwMTk5/Ny04ODI5LmpwZWc.jpeg"},
    {"artist":"Mighty Sparrow & Byron Lee","title":"Only A Fool (Breaks His Own Heart)","cover":"https://www.top40.nl/media/cache/related/uploads/title/19156/original.jpg"},
    {"artist":"Richard Darbyshire","title":"This I Swear","cover":"https://i.discogs.com/CTLYqw-bOD98jByXAFt5DaMsI3iJtmlLIXNbnYDPA5s/rs:fit/g:sm/q:90/h:500/w:500/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE1MDQ2/ODk2LTE1ODU5NzM4/NzItNTEzOC5qcGVn.jpeg"},
    {"artist":"Exposé","title":"When I Looked At Him","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/9789_8684/original.jpg"},
    {"artist":"Percy Faith","title":"Crunchy Granola Suite","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/12821/original.jpg"},
    {"artist":"Rayelle","title":"Get Dat","cover":"https://i1.sndcdn.com/artworks-000496349562-jjwzjl-t500x500.jpg"},
    {"artist":"Oliver","title":"Good Morning Starshine","cover":"https://www.top40.nl/media/cache/related/uploads/subtitle/6047/original.jpg"},
    {"artist":"Carpenters","title":"Heather","cover":"https://i.discogs.com/Fmzp8sXLX5wkS6b-5yT8bIEfMTM_MWGL3opSjyIw4P0/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE4MDQ5/NzMtMTQwNzQ0NjE1/OS0xODg4LmpwZWc.jpeg"},
    {"artist":"Madonna","title":"Till Death Do Us Part","cover":"https://www.hot-vinyl.com/cache/images/104195.jpg"}
  ]
}</script>

<script>
const data = JSON.parse(document.getElementById('data').textContent);
const $list = document.getElementById('list');
const $filter = document.getElementById('filter');
const $clear = document.getElementById('clearBtn');
const $title = document.getElementById('title');
const $subtitle = document.getElementById('subtitle');
const $albumCover = document.getElementById('albumCover');

$title.textContent = data.album_title || "Album";
$subtitle.textContent = data.subtitle || "";

// Albumcover met eenvoudige fallback paden
function setAlbumCover(u){
  if(!u) return;
  const variants = [u, u.replace(/^image\//,''), './'+u, u.replace(/^\.\/image\//,'image/'), u.replace(/^images\//,'image/')];
  let i = 0;
  $albumCover.onerror = ()=>{ if (++i < variants.length) $albumCover.src = variants[i]; };
  $albumCover.src = variants[i];
}
setAlbumCover(data.cover || "");

// URL-escape voor HTML
function esc(s){ return (s||"").replace(/[&<>\"']/g,c=>({"&":"&amp;","<":"&lt;","&gt;":">","\"":"&quot;","'":"&#039;"}[c])); }

// Proxy-resolver (alleen als direct laden faalt)
function resolveProxy(u){
  try {
    const raw = u.replace(/^https?:\/\//,'');
    return 'https://images.weserv.nl/?url=' + encodeURIComponent(raw);
  } catch(e){ return u; }
}

function render(items){
  $list.innerHTML = "";
  if(!Array.isArray(items) || items.length===0){
    $list.innerHTML = "<div class='item'><div></div><div class='idx'>–</div><div class='meta'><em>Geen resultaten…</em></div></div>";
    return;
  }
  items.forEach((t,i)=>{
    const card = document.createElement('div');
    card.className = 'item';

    const img = document.createElement('img');
    img.className = 'thumb';
    img.alt = (t.title||'') + ' – ' + (t.artist||'');

    // 1) probeer de directe URL
    let triedProxy = false;
    if (t.cover) {
      img.referrerPolicy = 'no-referrer';
      img.src = t.cover;
      img.onerror = ()=>{
        // 2) als direct laden faalt: probeer een proxy-weergave
        if (!triedProxy) {
          triedProxy = true;
          img.src = resolveProxy(t.cover);
        } else {
          // 3) als zelfs dat faalt: markeer visueel
          img.style.borderColor='#f44';
          img.title='cover kon niet laden: '+(t.cover||'');
        }
      };
    } else {
      img.style.objectFit='contain'; img.style.background='#222';
      img.src='data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52"><rect width="100%" height="100%" fill="#222"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#aaa" font-family="system-ui,Arial" font-size="16">—</text></svg>');
    }
    card.appendChild(img);

    const idx = document.createElement('div');
    idx.className = 'idx';
    idx.textContent = String(i+1);
    card.appendChild(idx);

    const meta = document.createElement('div');
    meta.className = 'meta';
    meta.innerHTML = '<b>'+esc(t.title||'')+'</b><span class="artist">'+esc(t.artist||'')+'</span>';

    // Acties
    const actions = document.createElement('div');
    actions.className = 'actions';

    // Link om originele cover-URL te openen (handig testen)
    if (t.cover) {
      const link = document.createElement('a');
      link.className = 'btn';
      link.href = t.cover; link.target = '_blank'; link.rel = 'noopener';
      link.textContent = 'Cover openen';
      actions.appendChild(link);
    }

    if (t.youtube) {
      const a = document.createElement('a');
      a.className = 'btn'; a.href = t.youtube; a.target='_blank'; a.rel='noopener';
      a.textContent = 'YouTube (zoek)';
      actions.appendChild(a);
    }

    meta.appendChild(actions);
    card.appendChild(meta);
    $list.appendChild(card);
  });
}

function applyFilter(){
  const q = ($filter.value||'').toLowerCase().trim();
  if (!q) return render(data.tracks||[]);
  render((data.tracks||[]).filter(t =>
    (t.title||'').toLowerCase().includes(q) ||
    (t.artist||'').toLowerCase().includes(q)
  ));
}
$filter.addEventListener('input', applyFilter);
$clear.addEventListener('click', ()=>{ $filter.value=''; applyFilter(); $filter.focus(); });

render(data.tracks||[]);
</script>
</body>
</html>
