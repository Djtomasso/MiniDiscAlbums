<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Legacy Of Dance</title>
<style>
    :root{--bg:#0a0a0a;--surface:#121212;--surface2:#151515;--text:#f5f5f5;--muted:#c7c7c7;--border:#2a2a2a;--focus:#fff}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--text)}
    .wrap{max-width:820px;margin:auto;padding:16px;display:grid;gap:16px}
    header.hero{border:1px solid var(--border);background:var(--surface);border-radius:16px;overflow:hidden}
    .topnav{display:flex;gap:10px;align-items:center;padding:10px;background:#0e0e0e;border:1px solid var(--border);border-radius:10px;position:sticky;top:0;z-index:5}
    .homebtn{display:inline-block;background:#191919;border:1px solid var(--border);padding:8px 12px;border-radius:8px;text-decoration:none;color:var(--text)}
    .homebtn:hover{background:#222}
    .cover img{width:100%;height:auto;display:block}
    .titlebar{padding:14px;background:var(--surface2);border-top:1px solid var(--border)}
    h1{margin:0;font-size:1.3rem}
    .sub{color:var(--muted)}
    .toolbar{position:sticky;top:64px;z-index:4;background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:10px}
    .search{display:flex;gap:8px}
    .search input{flex:1;background:#0e0e0e;border:0;color:var(--text);padding:10px;border-radius:10px}
    .search button{background:#151515;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px}
    main.tracks{display:grid;gap:10px}
    /* aangepaste grid: thumb + index + meta */
    .item{border:1px solid var(--border);background:#0f0f0f;border-radius:12px;padding:12px;
          display:grid;grid-template-columns:52px 36px 1fr;gap:10px;align-items:center}
    .thumb{width:52px;height:52px;border-radius:10px;object-fit:cover;border:1px solid var(--border);background:#191919}
	/* üëá dit is nieuw toegevoegd */
    .thumb {
      transition: transform 0.25s ease;
    }
    .thumb:hover {
      transform: scale(2.5);
      z-index: 2;
      position: relative;
    }
    /* üëÜ einde toevoeging */
    .idx{min-width:36px;height:36px;display:grid;place-items:center;border:1px solid var(--border);border-radius:8px;background:#151515;font-weight:700}
    .meta{display:block}
    .meta b{display:block;font-size:1rem;line-height:1.3}
    .artist{display:block;color:var(--muted);margin-top:2px}
    .actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    a.btn{background:#151515;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:8px 10px;text-decoration:none;font-size:.95rem}
    a.btn:focus-visible{outline:2px solid var(--focus);outline-offset:2px}
    footer{color:var(--muted);font-size:.9rem;text-align:center;padding:10px}
  </style>
</head>
<body>
<div class="wrap">
  <!-- Alleen Hoofdmenu bovenaan -->
  <nav class="topnav" aria-label="Hoofdmenu">
    <a class="homebtn" href="index.html">‚Üê Hoofdmenu</a>
  </nav>

  <header class="hero">
    <div class="cover"><img id="albumCover" alt="Album cover"></div>
    <div class="titlebar">
      <h1 id="title"></h1>
      <div class="sub" id="subtitle"></div>
    </div>
  </header>

  <!-- Zoekbalk onder het album (zoals bij One/Two) -->
  <div class="searchbar toolbar"><div class="search">
<input id="filter" type="search" placeholder="Zoek in titels of artiest‚Ä¶" />
    <button id="clearBtn" type="button">Wissen</button>
</div></div>

  <main id="list" class="tracks" aria-live="polite"></main>
  <footer>album samengesteld door Tomasso 2025</footer>
</div>

<script type="application/json" id="data">{
  "album_title": "Legacy Of Dance",
  "subtitle": "",
  "cover": "image/legacyofdance_hoes1.png",
  "tracks": [
    {
      "artist": "Da Lukas,Walterino",
      "title": "Discovamp"
    },
    {
      "artist": "Majestic,The Jammin Kid,C√©line Dion",
      "title": "Set My Heart On Fire (I'm Alive x And The Beat Goes On)"
    },
    {
      "artist": "Disko Junkie",
      "title": "This Disko Feelin' - Radio Mix"
    },
    {
      "artist": "Angelo Ferreri,Hatiras",
      "title": "Toronto Nights"
    },
    {
      "artist": "Block & Crown",
      "title": "Mi Gente - Edc Mexico Clubmix"
    },
    {
      "artist": "P. Lion,Block & Crown",
      "title": "Happy Children (Block & Crown Nu Disco Edit)"
    },
    {
      "artist": "Crazibiza",
      "title": "Dance & Shout - Original mix"
    },
    {
      "artist": "Block & Crown",
      "title": "The Groove Of All Grooves"
    },
    {
      "artist": "Oliver Heldens,Lenno",
      "title": "This Groove"
    },
    {
      "artist": "Roog,Alain Clark",
      "title": "From Me To You - Radio Edit"
    },
    {
      "artist": "Lady Gaga,BloodPop¬Æ,BURNS,Vitaclub",
      "title": "Stupid Love - Vitaclub Warehouse Mix"
    },
    {
      "artist": "DJ Katch",
      "title": "My Name Is Not Susan - Extended"
    },
    {
      "artist": "Martin Solveig,Good Times Ahead",
      "title": "Intoxicated"
    },
    {
      "artist": "La Fuente",
      "title": "I Want You"
    },
    {
      "artist": "Block & Crown,Jesus Davila",
      "title": "Can't Get Enough - Original Mix"
    },
    {
      "artist": "Angelo Ferreri,DJ Delta (IT)",
      "title": "THE DJ MANIFESTO - Radio Edit"
    },
    {
      "artist": "Those 2 Guys,Christian Lukes,Divine",
      "title": "Bomba"
    },
    {
      "artist": "Block & Crown,Jose",
      "title": "123 Get Loose Now - Original Mix"
    },
    {
      "artist": "Babert",
      "title": "Some Other Girls"
    },
    {
      "artist": "Gala,Hoxton Whores",
      "title": "The Beautiful (Hoxton Whores Club Mix)"
    },
    {
      "artist": "LucaJLove,Sasa di Toma,Daniel Jaze",
      "title": "Playin' House - Daniel Jaze Remix"
    },
    {
      "artist": "Soulvation",
      "title": "Be Free - Original Mix"
    },
    {
      "artist": "Block & Crown",
      "title": "Italian Style - Original Mix"
    },
    {
      "artist": "Les Bisous",
      "title": "Hypnotic Tango"
    },
    {
      "artist": "Block & Crown",
      "title": "Remember the Good Times"
    },
    {
      "artist": "Alok,Ella Eyre,Kenny Dope,Never Dull,Nathan Dawe",
      "title": "Deep Down (feat. Never Dull) - Nathan Dawe Remix"
    },
    {
      "artist": "Alaia & Gallo",
      "title": "The Beat of the Drum"
    },
    {
      "artist": "Raze,Matt Jam Lamont,Scott Diaz",
      "title": "Break 4 Love - Matt Jam Lamont & Scott Diaz Classic Vocal Mix"
    },
    {
      "artist": "Erick E",
      "title": "The Beat Is Rockin'"
    },
    {
      "artist": "La Fuente",
      "title": "Ratata"
    },
    {
      "artist": "Block & Crown,Lissat",
      "title": "Jumpin Underwater - Original Mix"
    },
    {
      "artist": "Anyma,Argy,Son of Son",
      "title": "Voices In My Head"
    },
    {
      "artist": "Block & Crown",
      "title": "Pump the Power - Original Mix"
    },
    {
      "artist": "Rui Da Silva,Cassandra",
      "title": "Touch Me (Radio Edit) [feat. Cassandra]"
    },
    {
      "artist": "Kevin McKay",
      "title": "Lay All Your Love On Me - Extended Mix"
    },
    {
      "artist": "David Guetta,MORTEN,Prophecy",
      "title": "Kill The Vibe"
    }
  ]
}</script>

<script>
const data = JSON.parse(document.getElementById('data').textContent);
const $list = document.getElementById('list');
const $filter = document.getElementById('filter');
const $clear = document.getElementById('clearBtn');
const $title = document.getElementById('title');
const $subtitle = document.getElementById('subtitle');
const $albumCover = document.getElementById('albumCover');

$title.textContent = data.album_title || "Album";
$subtitle.textContent = data.subtitle || "";

// Albumcover met eenvoudige fallback paden
function setAlbumCover(u){
  if(!u) return;
  const variants = [u, u.replace(/^image\//,''), './'+u, u.replace(/^\.\/image\//,'image/'), u.replace(/^images\//,'image/')];
  let i = 0;
  $albumCover.onerror = ()=>{ if (++i < variants.length) $albumCover.src = variants[i]; };
  $albumCover.src = variants[i];
}
setAlbumCover(data.cover || "");


function esc(s){ return (s||"").replace(/[&<>\"']/g,c=>({"&":"&amp;","<":"&lt;","&gt;":">","\"":"&quot;","'":"&#039;"}[c])); }

function resolveProxy(u){
  try { const raw = u.replace(/^https?:\/\//,''); return 'https://images.weserv.nl/?url=' + encodeURIComponent(raw); }
  catch(e){ return u; }
}

function wikiLink(t){
  const q = (t.artist && t.title) ? (t.artist) : (t.artist || t.title || "");
  return "https://nl.wikipedia.org/w/index.php?search=" + encodeURIComponent(q);
}

function ytLink(t){
  const q = ((t.title||"") + " " + (t.artist||"")).trim();
  return "https://www.youtube.com/results?search_query=" + encodeURIComponent(q);
}

function render(items){
  $list.innerHTML = "";
  if(!Array.isArray(items) || items.length===0){
    $list.innerHTML = "<div class='item'><div class='thumb'></div><div class='idx'>‚Äì</div><div class='meta'><span class='artist'>Geen resultaten‚Ä¶</span></div></div>";
    return;
  }
  items.forEach((t,i)=>{
    const card = document.createElement('div'); 
    card.className='item';

    // Thumb (keep hover behavior via CSS)
    const img = document.createElement('img'); 
    img.className='thumb';
    img.alt = (t.title||'')+' ‚Äì '+(t.artist||'');
    let triedProxy=false;
    if(t.cover){
      img.referrerPolicy='no-referrer';
      img.src=t.cover;
      img.onerror=()=>{ 
        if(!triedProxy){ 
          triedProxy=true; 
          img.src=resolveProxy(t.cover); 
        } else { 
          img.style.objectFit='contain'; 
          img.style.background='#222';
          img.src='data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52"><rect width="100%" height="100%" fill="#222"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#aaa" font-family="system-ui,Arial" font-size="16">‚Äî</text></svg>');
        } 
      };
    } else {
      img.style.objectFit='contain'; img.style.background='#222';
      img.src='data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52"><rect width="100%" height="100%" fill="#222"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#aaa" font-family="system-ui,Arial" font-size="16">‚Äî</text></svg>');
    }
    card.appendChild(img);

    // Index
    const idx=document.createElement('div'); 
    idx.className='idx'; 
    idx.textContent=String(i+1); 
    card.appendChild(idx);

    // Meta + actions
    const meta=document.createElement('div'); 
    meta.className='meta';
    meta.innerHTML='<b>'+esc(t.title||'')+'</b><span class="artist">'+esc(t.artist||'')+'</span>';

    const actions=document.createElement('div'); 
    actions.className='actions';

    // YouTube (zoek) ‚Äî always add as search link (like "one")
    const yta = document.createElement('a'); 
    yta.className='btn'; 
    yta.href = t.youtube ? t.youtube : ytLink(t);
    yta.target='_blank'; 
    yta.rel='noopener noreferrer'; 
    yta.textContent='YouTube (zoek)';
    actions.appendChild(yta);

    // Wikipedia ‚Äî always add as search link
    const wpa = document.createElement('a'); 
    wpa.className='btn'; 
    wpa.href = wikiLink(t);
    wpa.target='_blank'; 
    wpa.rel='noopener noreferrer'; 
    wpa.textContent='Wikipedia';
    actions.appendChild(wpa);

    meta.appendChild(actions);
    card.appendChild(meta);
    $list.appendChild(card);
  });
}
function applyFilter(){
  const q = ($filter.value||'').toLowerCase().trim();
  if (!q) return render(data.tracks||[]);
  render((data.tracks||[]).filter(t =>
    (t.title||'').toLowerCase().includes(q) ||
    (t.artist||'').toLowerCase().includes(q)
  ));
}
$filter.addEventListener('input', applyFilter);
$clear.addEventListener('click', ()=>{ $filter.value=''; applyFilter(); $filter.focus(); });

render(data.tracks||[]);
</script>
</body>
</html>
